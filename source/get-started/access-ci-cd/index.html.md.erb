---
title: Access CI/CD
weight: 23
last_reviewed_on: 2022-02-01
review_in: 6 months
---

# Access CI/CD pipelines

## Github actions (CI)

With GitHub Actions, we can now automatically build and publish our docker image to our private GOV.UK production AWS Elastic Container Repository.

The GitHub Actions workflow CI yaml file can be found within each repository in the following location: `.github/workflows/ci.yaml`

When a user merges a branch to main, the GitHub Action Workflows will be triggered, the defined job within the ci.yaml file will then start.
Within the job there are steps which will checkout the code, build a new Docker image and then push that new Docker image to GOV.UK production AWS Elastic Container Repository.
Each new image will be tagged with merge commit GitHub simple hashing algorithm (SHA).

You can view the status of GitHub Actions CI on `https://github.com/alphagov/<application repo>/actions`. The workflow is named `Build and publish to ECR`.

### Sensitive data

AWS credentials are stored as Github Organisation level secrets and have been made available to individual repos. If a new repo requires access to secrets, please [contact the Replatforming team on Slack](https://gds.slack.com/archives/C013F737737).

See the [documentation on GitHub Actions](https://docs.github.com/en/actions) for more information.

## ArgoCD (CD)

The GOV.UK Kubernetes Platform provides an [ArgoCD] instance for continuous
delivery of applications to the cluster.

ArgoCD is a declarative, GitOps continuous delivery tool for Kubernetes.
ArgoCD will replace the feature set currently provided by Deploy Jenkins.

### Access the ArgoCD integration instance

NOTE: In future we will use our Google Accounts for Single Sign-On (SSO) to Argo.
Our MVP for user testing uses a shared username and password.

1. Authenticate to the Kubernetes cluster (see [getting access to the cluster])
2. Acquire the password for Argo:

    ```sh
    kubectl -n cluster-services get secret argocd-initial-admin-secret -o jsonpath="{.data.password}" | base64 -d; echo
    ```

3. Navigate to [ArgoCD (Integration)][argo-integration] and sign in using the
  username `admin` and the password acquired from the previous step.

[ArgoCD]: https://argo-cd.readthedocs.io/en/stable/
[getting access to the cluster]: #getting-access-to-the-cluster
[argo-integration]: https://argo.eks.integration.govuk.digital/

## Argo Workflows

[Argo Workflows] is used in our GOV.UK Kubernetes Platform to provide the ability to
run tasks in a Directed Acyclic Graph (DAG) similar to what Concourse offered.

### Access the Argo Workflows integration instance

NOTE: In future we will use our Google Accounts for Single Sign-On (SSO) to Argo.
Our MVP for user testing uses a bearer token.

1. Authenticate to the Kubernetes cluster (see [getting access to the cluster])
2. Acquire the bearer token for [Argo Workflows]:

    ```sh
    argo auth token
    ```

3. Navigate to [Argo Workflows (Integration)][argo-workflows-integration] and sign in using the
  bearer token.
[argo-workflows-integration]: https://argo-workflows.eks.integration.govuk.digital/
